<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bootstrap 3, from LayoutIt!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="img/favicon.png">
  
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>

	<link href="js/google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
	<script src="js/google-code-prettify/prettify.js"></script>

</head>

<body onload="prettyPrint()">
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<div class="page-header">
				<h1>
					<div>
						JavaScript SDK for AT&amp;T's Enhanced WebRTC
					</div>
				</h1>
			</div>
			
			<p>
				AT&amp;T Enhanced WebRTC (Web Real Time Communication) allows you to build real time browser based communication applications. WebRTC Restful APIs allows you to discover other party in communication and use standard offer/answer model to exchange session parameter to establish effective audio/video communications.
			</p>
			
			<p>
				AT&amp;T Enhanced WebRTC allows you to use AT&amp;T Mobile Number or existing member Account IDs or use AT&amp;T's Virtual Number for communication.
			</p>
			
			<div class="row clearfix">
				<div class="col-md-6 column">
					 <a class="btn btn-lg btn-info" href="api-docs/" target="_blank">API Documentation</a>
				</div>
				<div class="col-md-6 column">
					 <a class="btn btn-lg btn-info" href="tutorial/" target="_blank">Tutorial</a>
				</div>
			</div>
			<h2>
				Getting the Phone object
			</h2>
			

			<div role="tabpanel" id="1-get-phone">

			  <!-- Nav tabs -->
			  <ul class="nav nav-tabs" role="tablist">
			    <li role="presentation" class="active"><a href="#1-html" aria-controls="home" role="tab" data-toggle="tab">HTML</a></li>
			    <li role="presentation"><a href="#1-js" aria-controls="profile" role="tab" data-toggle="tab">JavaScript</a></li>
			  </ul>

			  <!-- Tab panes -->
			  <div class="tab-content">
			    <div role="tabpanel" class="tab-pane active" id="1-html">
						<xmp class="prettyprint linenums" id="htmlXmp">	
<p>
  <button id="configureButton" onclick="configurePhone()">Create Phone Objects</button>
  <button id="configureSuccessButton" hidden disabled>Phone Objects Created Successfully</button>
</p>
						</xmp> 
			    </div>
			    <div role="tabpanel" class="tab-pane" id="1-js">
						<pre class="prettyprint linenums lang-js pre-scrollable">
var phone;

function onError(data) {
    console.log(data.error);
}
 
function configurePhone() {
    phone = ATT.rtc.configure(getPhone);
}      
    
function getPhone() {
    phone = ATT.rtc.Phone.getPhone();
    registerEvents (); 
}

function registerEvents() {
    phone.on('error', onError); 
}
						</pre>       
			    </div>
			  </div>

			</div>

			<h2>
				Login and Logout (Account ID Users)
			</h2>

			<div role="tabpanel" id="2-log-in_out-notn">

			  <!-- Nav tabs -->
			  <ul class="nav nav-tabs" role="tablist">
			    <li role="presentation" class="active">
			    	<a href="#2-html" aria-controls="home" role="tab" data-toggle="tab">HTML</a></li>
			    <li role="presentation">
			    	<a href="#2-js" aria-controls="profile" role="tab" data-toggle="tab">JavaScript</a></li>
			  </ul>

			  <!-- Tab panes -->
			  <div class="tab-content">
			    <div role="tabpanel" class="tab-pane active" id="2-html">
						<xmp class="prettyprint linenums" id="htmlXmp">	
<p>
  <button id="configureButton" onclick="configurePhone()">Create Phone Objects</button>
  <button id="configureSuccessButton" hidden disabled>Phone Objects Created Successfully</button>
</p>
						</xmp> 
			    </div>
			    <div role="tabpanel" class="tab-pane" id="2-js">
						<pre class="prettyprint linenums lang-js pre-scrollable">
function registerEvents() {
    phone.on('session:ready', onSessionReady);
    phone.on('session:disconnected', onSessionDisconnected);
}

function onSessionReady() {
    // Do something
}
    
function onSessionDisconnected() {
    // Do something
}
       
function login() {
    ATT.rtc.dhs.createAccessToken({
        app_scope: 'ACCOUNT_ID',
        success: associateAccessToken,
        error: onError
    });
}

function associateAccessToken(tokenHolder) {
    ATT.rtc.associateAccessToken({
        userId: loginInput.value,
        token: tokenHolder.access_token,
        success: function () {
            phone.login({token: tokenHolder.access_token});
            },
        error: onError
    }) 
}
    
function logout() {
    phone.logout();
}

						</pre>       
			    </div>
			  </div>

			</div>

			<h2>Make and Answer Call</h2>
			<div role="tabpanel" id="3-make-answer">

			  <!-- Nav tabs -->
			  <ul class="nav nav-tabs" role="tablist">
			    <li role="presentation" class="active">
			    	<a href="#3-html" aria-controls="home" role="tab" data-toggle="tab">HTML</a></li>
			    <li role="presentation">
			    	<a href="#3-js" aria-controls="profile" role="tab" data-toggle="tab">JavaScript</a></li>
			  </ul>

			  <!-- Tab panes -->
			  <div class="tab-content">
			    <div role="tabpanel" class="tab-pane active" id="3-html">
						<xmp class="prettyprint linenums" id="htmlXmp">	
<p>
  <input type="text" id="callToInput" placeholder="Account ID/Telephone" hidden></input>
  <button id="makeCallButton" onclick="makeCall()" hidden>Make Call alice@yourdamain.com or 1234567890</button>
  <button id="answerCallButton" onclick="answerCall()" hidden>Answer Call</button>
  <audio id="local" style="display:none"></audio>
  <audio id="remote" style="display:none"></audio>
</p>
						</xmp> 
			    </div>
			    <div role="tabpanel" class="tab-pane" id="3-js">
						<pre class="prettyprint linenums lang-js pre-scrollable">
function registerEvents() {
    phone.on('call:incoming', onIncomingCall);
    phone.on('call:connected', onConnectedCall);
}
    
function onIncomingCall () {
    // Do something
}
    
function onConnectedCall () {
    // Do something
}
    
function makeCall() {
    phone.dial({
    destination: phone.cleanPhoneNumber(callToInput.value),
    mediaType: 'audio',
    localMedia: document.getElementById('local'),
    remoteMedia: document.getElementById('remote')
    });
}

function answerCall() {
    phone.answer({
    mediaType: 'audio',
    localMedia: document.getElementById('local'),
    remoteMedia: document.getElementById('remote')
    });
}    
						</pre>       
			    </div>
			  </div>

			</div>

			<!-- TEMPLATE TABBABLE PANEL -->
			<div role="tabpanel" id="X-other">

			  <!-- Nav tabs -->
			  <ul class="nav nav-tabs" role="tablist">
			    <li role="presentation" class="active">
			    	<a href="#X-html" aria-controls="home" role="tab" data-toggle="tab">HTML</a></li>
			    <li role="presentation">
			    	<a href="#X-js" aria-controls="profile" role="tab" data-toggle="tab">JavaScript</a></li>
			  </ul>

			  <!-- Tab panes -->
			  <div class="tab-content">
			    <div role="tabpanel" class="tab-pane active" id="X-html">
						<xmp class="prettyprint linenums" id="htmlXmp">	
<p>
  <button>Button</button>
</p>
						</xmp> 
			    </div>
			    <div role="tabpanel" class="tab-pane" id="X-js">
						<pre class="prettyprint linenums lang-js pre-scrollable">
console.log('Some code goes here');
						</pre>       
			    </div>
			  </div>

			</div>
			<!-- END OF: TEMPLATE TABBABLE PANEL -->
			
			<h2>
				Other Links
			</h2>
			<p>
				Additional links go here.
			</p>
			<p>
				<a class="btn" href="#">View details »</a>
			</p>

		</div>
	</div>

		</div>
	</div>
</div>
</body>
</html>
